
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml"> <head> <title>Revision history - Ask FIT</title> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <meta http-equiv="X-UA-Compatible" content="IE=EDGE" /> <meta name="description" content="Otázky a odpovědi studentů FIT ČVUT" /> <meta name="keywords" content=",Ask,FIT ČVUT" /> <meta name="referrer" content="always" /> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /> <link rel="shortcut icon" href="../../../upfiles/fit.ico" /> <link
            rel="alternate"
            type="application/rss+xml"
            title="RSS feed from AskFIT"
            href="https://askfit.cz/feeds/rss/"
        /> <link rel="stylesheet" href="../../../m/CACHE/css/13f37855be5f.css" type="text/css" /> <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:700&amp;subset=latin-ext' rel='stylesheet' type='text/css'> <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:700&amp;subset=cyrillic-ext' rel='stylesheet' type='text/css'> <script type="text/javascript" src="../../../m/default/media/js/modernizr.custom.js%3Fv=1"></script> <script type="text/javascript">
    var askbot = {};
    askbot['data'] = {};
    askbot['data']['userIsAuthenticated'] = false;
    askbot['data']['languageCode'] = 'en';
    
        askbot['data']['userReputation'] = 0;
        askbot['data']['userIsReadOnly'] = false;//in principle we allow anon users to start posting
    
    askbot['urls'] = {};
    askbot['settings'] = {};
    askbot['messages'] = {};
</script> <script type="text/javascript" src="../../../jsi18n/index.html"></script> </head> <body class="two-col revisions-page anon lang-en"> <div class="notify" style="display:none"> <a id="closeNotify" onclick="notify.close(true)"></a> </div> <!-- template header.html --> <div 
    id="header"
    class="without-logo"
> <div class="content-wrapper"> <div id="userToolsNav"> <a href="../../../account/signin/index.html%3Fnext=%252F.html">Hi there! Please sign in</a> <a class="help" href="../../../help/index.html" title="help">help</a> </div> <div id="metaNav"> <a 
  id="navTags"
  href="../../../tags/index.html"
  
>tags</a> <a 
  id="navUsers"
  href="../../../users/index.html"
  
>users</a> <a 
  id="navBadges"
  href="../../../badges/index.html"
  
>badges</a> </div> <div class="clean"></div> </div> </div> <!-- end template header.html --> <!-- template secondary_header.html --> <div id="secondaryHeader"> <div class="content-wrapper"> <form
            
                action="../../../question/2296/bi-zwu-semestralni-prace-media-queries.1.html" id="searchForm"
            
            class="scopes-True-True-False"
            method="get"> <div> <a id="homeButton" href="../../../question/2296/bi-zwu-semestralni-prace-media-queries.1.html"></a> <div id="scopeNav"> <a class="scope-selector "
            href="../../../questions/scope:all/sort:activity-desc/page:1/index.html"
            title="see all questions">ALL</a> <a class="scope-selector "
            href="../../../questions/scope:unanswered/sort:answers-asc/page:1/index.html"
            title="see unanswered questions">UNANSWERED</a> </div> <a
        id="askButton"
        class="button"
        href="../../../questions/ask/index.html"
        >Ask Your Question</a> <div class="clearfix"></div> </div> <div 
    id="searchBar"
    class=""
><input 
        class="searchInput" 
        type="text" 
        autocomplete="off"
        value="" 
        name="query" 
        id="keywords"
    /><input type="submit" value="" name="search" class="searchBtn" /><input type="button"
        value="X"
        name="reset_query"
        class="cancelSearchBtn"
        
            style="display: none;"
        
    /></div> </form> </div> </div> <div class="content-wrapper"> <div id="ContentLeft"> <h1 class="section-title">
    Revision history [<a href="../../../question/2628/selftest-2-pocitani-klientu-demo/index.html%3Fanswer=2648.html#post-id-2648">back</a>]
</h1> <div id="revisions"> <div class="revision"> <div 
        id="rev-header-1"
        class="header author"
    > <div class="header-controls"> <table width="100%"> <tr> <td width="20" style="vertical-align:middle"> <img 
                        id="rev-arrow-1" 
                        src="../../../m/default/media/images/expander-arrow-hide.gif%3Fv=1"
                        alt="click to hide/show revision"
                        /> </td> <td width="30px" style="vertical-align:middle"> <span 
                        class="revision-number" 
                        title="revision 1">1</span></td> <td width="200px" style="vertical-align:middle"> <div class="summary"> <span>initial version</span> </div> </td> <td align="right"> <div class="revision-mark" > <div class='post-update-info'> <p style="line-height:12px;">
            
            
                posted
            
            
                <strong><abbr class="timeago" title="2015-11-21 13:30:10 +0100">
        2015-11-21 13:30:10 +0100
    </abbr></strong> </p> <div class="user-card"> <a class="avatar-box"
    href="../../../users/2179/marek-bartik/index.html"
><img class="gravatar" 
    width="32" height="32"
    src="https://www.gravatar.com/avatar/20a45b9232f7edc817fef755a823d885?s=32&amp;d=identicon&amp;r=PG"
    title="Marek Bartík" 
    alt="Marek Bartík gravatar image" 
/></a> <div class="user-info"> <a href="../../../users/2179/marek-bartik/index.html">Marek Bartík</a> <br/> <a 
            href="http://yahoodka.cz/"
            title="Marek Bartík's website is http://yahoodka.cz/"
            
        >
        http://yahoodka.cz/
        </a> </div> </div> </div> </div> </td> </tr> </table> </div> </div> <div id="rev-body-1" class="answerbody"> <p>Důvod a vysvětlení chyby v Tvém řešení už zmínili ostatní, rád ukážů řešení mé:</p> <pre><code>awk '!/\[error\]/{a[$6]++}END{max=0;for(i in a){if(a[i]&gt;max)max=a[i]} print max}' apache.log
</code></pre> <p>Když jsem si zadání přečetl, hned mě napadlo awk. Jak je vidět, jde to hezky napsat pomocí jednoho awk, celkem jednoduše a snad i srozumitelně. A je to i dost rychlé (2n vs. 2n^2)</p> <p>Pár lidí ale namítalo, že jsme awk ještě nebrali. Proto se báli i obyčejného</p> <pre><code>awk '{print $1}'
</code></pre> <p>Které ušetřilo spoustu trápení a je mnohem mocnější než cut. Cut (bohužel) nezvládá více oddělovačů jdoucích po sobě.</p> <p>Viz rozdíl</p> <pre><code>echo "  3" | cut -d\  -f1
echo "  3" | awk '{print $1}'
</code></pre> <p>Na odstranění přebytečných mezer bez awk máme více možností. Výše zmíněný sed, nebo třeba grep -o</p> <pre><code>tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\ -f6 | sort | uniq -c | sort -nr | head -1 | grep -o '[0-9]*' | head -1
</code></pre> <p>Někdo vtipně neodstraňoval mezery, ale pomocí echo je tam naopak přidával :-D Takže v řešení se fantazii meze nekladou.</p> </div> </div> <div class="revision"> <div 
        id="rev-header-2"
        class="header author"
    > <div class="header-controls"> <table width="100%"> <tr> <td width="20" style="vertical-align:middle"> <img 
                        id="rev-arrow-2" 
                        src="../../../m/default/media/images/expander-arrow-hide.gif%3Fv=1"
                        alt="click to hide/show revision"
                        /> </td> <td width="30px" style="vertical-align:middle"> <span 
                        class="revision-number" 
                        title="revision 2">2</span></td> <td width="200px" style="vertical-align:middle"> <div class="summary"> <span>No.2 Revision</span> </div> </td> <td align="right"> <div class="revision-mark" > <div class='post-update-info'> <p style="line-height:12px;"> <a 
        
            href="https://www.askfit.cz/answers/3762/revisions/"
        
            >updated <strong><abbr class="timeago" title="2015-11-21 14:06:32 +0100">
        2015-11-21 14:06:32 +0100
    </abbr></strong></a> </p> <div class="user-card"> <a class="avatar-box"
    href="../../../users/2179/marek-bartik/index.html"
><img class="gravatar" 
    width="32" height="32"
    src="https://www.gravatar.com/avatar/20a45b9232f7edc817fef755a823d885?s=32&amp;d=identicon&amp;r=PG"
    title="Marek Bartík" 
    alt="Marek Bartík gravatar image" 
/></a> <div class="user-info"> <a href="../../../users/2179/marek-bartik/index.html">Marek Bartík</a> <br/> <a 
            href="http://yahoodka.cz/"
            title="Marek Bartík's website is http://yahoodka.cz/"
            
        >
        http://yahoodka.cz/
        </a> </div> </div> </div> </div> </td> </tr> </table> </div> </div> <div id="rev-body-2" class="answerbody"> <p>Důvod a vysvětlení chyby v Tvém řešení už zmínili ostatní, rád ukážů řešení mé:</p> <pre><code>awk '!/\[error\]/{a[$6]++}END{max=0;for(i in a){if(a[i]&gt;max)max=a[i]} print max}' apache.log
</code></pre> <p>Když jsem si zadání přečetl, hned mě napadlo awk. Jak je vidět, jde to hezky napsat pomocí jednoho awk, celkem jednoduše a snad i srozumitelně. A je to i <del>dost rychlé (2n </del><ins>rychlejší než 2x sort. Poprvé sort potřebuji, ale podruhé mi stačí jen najít maximální hodnotu (a kvůli tomu nepotřebuji vše řadit - O(n) </ins>vs. <del>2n^2)</del><ins>O(n log n))</ins></p> <p>Pár lidí ale namítalo, že jsme awk ještě nebrali. Proto se báli i obyčejného</p> <pre><code>awk '{print $1}'
</code></pre> <p>Které ušetřilo spoustu trápení a je mnohem mocnější než cut. Cut (bohužel) nezvládá více oddělovačů jdoucích po sobě.</p> <p>Viz rozdíl</p> <pre><code>echo "  3" | cut -d\  -f1
echo "  3" | awk '{print $1}'
</code></pre> <p>Na odstranění přebytečných mezer bez awk máme více možností. Výše zmíněný sed, nebo třeba grep -o</p> <pre><code>tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\ -f6 | sort | uniq -c | sort -nr | head -1 | grep -o '[0-9]*' | head -1
</code></pre> <p>Někdo vtipně neodstraňoval mezery, ale pomocí echo je tam naopak přidával :-D Takže v řešení se fantazii meze nekladou.</p> </div> </div> <div class="revision"> <div 
        id="rev-header-3"
        class="header author"
    > <div class="header-controls"> <table width="100%"> <tr> <td width="20" style="vertical-align:middle"> <img 
                        id="rev-arrow-3" 
                        src="../../../m/default/media/images/expander-arrow-hide.gif%3Fv=1"
                        alt="click to hide/show revision"
                        /> </td> <td width="30px" style="vertical-align:middle"> <span 
                        class="revision-number" 
                        title="revision 3">3</span></td> <td width="200px" style="vertical-align:middle"> <div class="summary"> <span>No.3 Revision</span> </div> </td> <td align="right"> <div class="revision-mark" > <div class='post-update-info'> <p style="line-height:12px;"> <a 
        
            href="https://www.askfit.cz/answers/3766/revisions/"
        
            >updated <strong><abbr class="timeago" title="2015-11-21 14:10:29 +0100">
        2015-11-21 14:10:29 +0100
    </abbr></strong></a> </p> <div class="user-card"> <a class="avatar-box"
    href="../../../users/2179/marek-bartik/index.html"
><img class="gravatar" 
    width="32" height="32"
    src="https://www.gravatar.com/avatar/20a45b9232f7edc817fef755a823d885?s=32&amp;d=identicon&amp;r=PG"
    title="Marek Bartík" 
    alt="Marek Bartík gravatar image" 
/></a> <div class="user-info"> <a href="../../../users/2179/marek-bartik/index.html">Marek Bartík</a> <br/> <a 
            href="http://yahoodka.cz/"
            title="Marek Bartík's website is http://yahoodka.cz/"
            
        >
        http://yahoodka.cz/
        </a> </div> </div> </div> </div> </td> </tr> </table> </div> </div> <div id="rev-body-3" class="answerbody"> <p>Důvod a vysvětlení chyby v Tvém řešení už zmínili ostatní, rád ukážů řešení mé:</p> <pre><code>awk '!/\[error\]/{a[$6]++}END{max=0;for(i in a){if(a[i]&gt;max)max=a[i]} print max}' apache.log
</code></pre> <p>Když jsem si zadání přečetl, hned mě napadlo awk. Jak je vidět, jde to hezky napsat pomocí jednoho awk, celkem jednoduše a snad i srozumitelně. A je to i rychlejší než 2x sort. Poprvé sort potřebuji, ale podruhé mi stačí jen najít maximální hodnotu (a kvůli tomu nepotřebuji vše řadit - O(n) vs. O(n log n))</p> <p>Pár lidí ale namítalo, že jsme awk ještě nebrali. Proto se báli i obyčejného</p> <pre><code>awk '{print $1}'
</code></pre> <p>Které ušetřilo spoustu trápení a je mnohem mocnější než cut. Cut (bohužel) nezvládá více oddělovačů jdoucích po sobě.</p> <p>Viz rozdíl</p> <pre><code>echo "  3" | cut -d\  -f1
echo "  3" | awk '{print $1}'
</code></pre> <p>Na odstranění přebytečných mezer bez awk máme více možností. Výše zmíněný sed, nebo třeba grep -o</p> <pre><code>tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\ -f6 | sort | uniq -c | sort -nr | head -1 | grep -o '[0-9]*' | head -1
</code></pre> <p>Někdo vtipně neodstraňoval mezery, ale pomocí echo je tam naopak přidával :-D Takže v řešení se fantazii meze nekladou.</p> <ins> <p>Ještě jeden na Babicu: Když nemáme sed, awk ani grep, tak tam dáme tr:</p> <pre><code>tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\  -f6 | sort | uniq -c | sort -nr | head -1 | tr -s ' ' | cut -d\  -f-2 | tr -d ' '
</code></pre> </ins> </div> </div> <div class="revision"> <div 
        id="rev-header-4"
        class="header author"
    > <div class="header-controls"> <table width="100%"> <tr> <td width="20" style="vertical-align:middle"> <img 
                        id="rev-arrow-4" 
                        src="../../../m/default/media/images/expander-arrow-hide.gif%3Fv=1"
                        alt="click to hide/show revision"
                        /> </td> <td width="30px" style="vertical-align:middle"> <span 
                        class="revision-number" 
                        title="revision 4">4</span></td> <td width="200px" style="vertical-align:middle"> <div class="summary"> <span>No.4 Revision</span> </div> </td> <td align="right"> <div class="revision-mark" > <div class='post-update-info'> <p style="line-height:12px;"> <a 
        
            href="https://www.askfit.cz/answers/3782/revisions/"
        
            >updated <strong><abbr class="timeago" title="2015-11-21 20:47:25 +0100">
        2015-11-21 20:47:25 +0100
    </abbr></strong></a> </p> <div class="user-card"> <a class="avatar-box"
    href="../../../users/2179/marek-bartik/index.html"
><img class="gravatar" 
    width="32" height="32"
    src="https://www.gravatar.com/avatar/20a45b9232f7edc817fef755a823d885?s=32&amp;d=identicon&amp;r=PG"
    title="Marek Bartík" 
    alt="Marek Bartík gravatar image" 
/></a> <div class="user-info"> <a href="../../../users/2179/marek-bartik/index.html">Marek Bartík</a> <br/> <a 
            href="http://yahoodka.cz/"
            title="Marek Bartík's website is http://yahoodka.cz/"
            
        >
        http://yahoodka.cz/
        </a> </div> </div> </div> </div> </td> </tr> </table> </div> </div> <div id="rev-body-4" class="answerbody"> <p>Důvod a vysvětlení chyby v Tvém řešení už zmínili ostatní, rád ukážů řešení mé:</p> <pre><code>awk '!/\[error\]/{a[$6]++}END{max=0;for(i in a){if(a[i]&gt;max)max=a[i]} print max}' apache.log
</code></pre> <p>Když jsem si zadání přečetl, hned mě napadlo awk. Jak je vidět, jde to hezky napsat pomocí jednoho awk, celkem jednoduše a snad i srozumitelně. A je to i rychlejší než 2x sort. Poprvé sort potřebuji, ale podruhé mi stačí jen najít maximální hodnotu (a kvůli tomu nepotřebuji vše řadit - O(n) vs. O(n log n))</p> <p>Pár lidí ale namítalo, že jsme awk ještě nebrali. Proto se báli i obyčejného</p> <pre><code>awk '{print $1}'
</code></pre> <p>Které ušetřilo spoustu trápení a je mnohem mocnější než cut. Cut (bohužel) nezvládá více oddělovačů jdoucích po sobě.</p> <p>Viz rozdíl</p> <pre><code>echo "  3" | cut -d\  -f1
echo "  3" | awk '{print $1}'
</code></pre> <p>Na odstranění přebytečných mezer bez awk máme více možností. Výše zmíněný sed, nebo třeba grep -o</p> <pre><code>tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\ -f6 | sort | uniq -c | sort -nr | head -1 | grep -o '[0-9]*' | head -1
</code></pre> <p>Někdo vtipně neodstraňoval mezery, ale pomocí echo je tam naopak přidával :-D Takže v řešení se fantazii meze nekladou.</p> <p>Ještě jeden na Babicu: Když nemáme sed, awk ani grep, tak tam dáme <del>tr:</del><ins>tr: (POZOR, NEFUNGUJE!)</ins></p> <pre><code>tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\  -f6 | sort | uniq -c | sort -nr | head -1 | tr -s ' ' | cut -d\  -f-2 | tr -d ' '
</code></pre> </div> </div> <div class="revision"> <div 
        id="rev-header-5"
        class="header author"
    > <div class="header-controls"> <table width="100%"> <tr> <td width="20" style="vertical-align:middle"> <img 
                        id="rev-arrow-5" 
                        src="../../../m/default/media/images/expander-arrow-hide.gif%3Fv=1"
                        alt="click to hide/show revision"
                        /> </td> <td width="30px" style="vertical-align:middle"> <span 
                        class="revision-number" 
                        title="revision 5">5</span></td> <td width="200px" style="vertical-align:middle"> <div class="summary"> <span>No.5 Revision</span> </div> </td> <td align="right"> <div class="revision-mark" > <div class='post-update-info'> <p style="line-height:12px;"> <a 
        
            href="https://www.askfit.cz/answers/3783/revisions/"
        
            >updated <strong><abbr class="timeago" title="2015-11-21 20:53:52 +0100">
        2015-11-21 20:53:52 +0100
    </abbr></strong></a> </p> <div class="user-card"> <a class="avatar-box"
    href="../../../users/2179/marek-bartik/index.html"
><img class="gravatar" 
    width="32" height="32"
    src="https://www.gravatar.com/avatar/20a45b9232f7edc817fef755a823d885?s=32&amp;d=identicon&amp;r=PG"
    title="Marek Bartík" 
    alt="Marek Bartík gravatar image" 
/></a> <div class="user-info"> <a href="../../../users/2179/marek-bartik/index.html">Marek Bartík</a> <br/> <a 
            href="http://yahoodka.cz/"
            title="Marek Bartík's website is http://yahoodka.cz/"
            
        >
        http://yahoodka.cz/
        </a> </div> </div> </div> </div> </td> </tr> </table> </div> </div> <div id="rev-body-5" class="answerbody"> <p>Důvod a vysvětlení chyby v Tvém řešení už zmínili ostatní, rád ukážů řešení mé:</p> <pre><code>awk '!/\[error\]/{a[$6]++}END{max=0;for(i in a){if(a[i]&gt;max)max=a[i]} print max}' apache.log
</code></pre> <p>Když jsem si zadání přečetl, hned mě napadlo awk. Jak je vidět, jde to hezky napsat pomocí jednoho awk, celkem jednoduše a snad i srozumitelně. A je to i rychlejší než 2x sort. Poprvé sort potřebuji, ale podruhé mi stačí jen najít maximální hodnotu (a kvůli tomu nepotřebuji vše řadit - O(n) vs. O(n log n))</p> <p>Pár lidí ale namítalo, že jsme awk ještě nebrali. Proto se báli i obyčejného</p> <pre><code>awk '{print $1}'
</code></pre> <p>Které ušetřilo spoustu trápení a je mnohem mocnější než cut. Cut (bohužel) nezvládá více oddělovačů jdoucích po sobě.</p> <p>Viz rozdíl</p> <pre><code>echo "  3" | cut -d\  -f1
echo "  3" | awk '{print $1}'
</code></pre> <p>Na odstranění přebytečných mezer bez awk máme více možností. Výše zmíněný sed, nebo třeba grep -o</p> <pre><code>tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\ <ins> </ins>-f6 | sort | uniq -c | sort -nr | head -1 | grep -o '[0-9]*' | head -1
</code></pre> <p>Někdo vtipně neodstraňoval mezery, ale pomocí echo je tam naopak přidával :-D Takže v řešení se fantazii meze nekladou.</p> <p>Ještě jeden na Babicu: Když nemáme sed, awk ani grep, tak tam dáme tr: (POZOR, NEFUNGUJE!)</p> <pre><code>tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\  -f6 | sort | uniq -c | sort -nr | head -1 | tr -s ' ' | cut -d\  -f-2 | tr -d ' '
</code></pre> </div> </div> <div class="revision"> <div 
        id="rev-header-6"
        class="header author"
    > <div class="header-controls"> <table width="100%"> <tr> <td width="20" style="vertical-align:middle"> <img 
                        id="rev-arrow-6" 
                        src="../../../m/default/media/images/expander-arrow-hide.gif%3Fv=1"
                        alt="click to hide/show revision"
                        /> </td> <td width="30px" style="vertical-align:middle"> <span 
                        class="revision-number" 
                        title="revision 6">6</span></td> <td width="200px" style="vertical-align:middle"> <div class="summary"> <span>No.6 Revision</span> </div> </td> <td align="right"> <div class="revision-mark" > <div class='post-update-info'> <p style="line-height:12px;"> <a 
        
            href="https://www.askfit.cz/answers/3784/revisions/"
        
            >updated <strong><abbr class="timeago" title="2015-11-21 20:59:47 +0100">
        2015-11-21 20:59:47 +0100
    </abbr></strong></a> </p> <div class="user-card"> <a class="avatar-box"
    href="../../../users/2179/marek-bartik/index.html"
><img class="gravatar" 
    width="32" height="32"
    src="https://www.gravatar.com/avatar/20a45b9232f7edc817fef755a823d885?s=32&amp;d=identicon&amp;r=PG"
    title="Marek Bartík" 
    alt="Marek Bartík gravatar image" 
/></a> <div class="user-info"> <a href="../../../users/2179/marek-bartik/index.html">Marek Bartík</a> <br/> <a 
            href="http://yahoodka.cz/"
            title="Marek Bartík's website is http://yahoodka.cz/"
            
        >
        http://yahoodka.cz/
        </a> </div> </div> </div> </div> </td> </tr> </table> </div> </div> <div id="rev-body-6" class="answerbody"> <p>Důvod a vysvětlení chyby v Tvém řešení už zmínili ostatní, rád ukážů řešení mé:</p> <pre><code>awk '!/\[error\]/{a[$6]++}END{max=0;for(i in a){if(a[i]&gt;max)max=a[i]} print max}' apache.log
</code></pre> <p>Když jsem si zadání přečetl, hned mě napadlo awk. Jak je vidět, jde to hezky napsat pomocí jednoho awk, celkem jednoduše a snad i srozumitelně. A je to i rychlejší než 2x sort. Poprvé sort potřebuji, ale podruhé mi stačí jen najít maximální hodnotu (a kvůli tomu nepotřebuji vše řadit - O(n) vs. O(n log n))</p> <p>Pár lidí ale namítalo, že jsme awk ještě nebrali. Proto se báli i obyčejného</p> <pre><code>awk '{print $1}'
</code></pre> <p>Které ušetřilo spoustu trápení a je mnohem mocnější než cut. Cut (bohužel) nezvládá více oddělovačů jdoucích po sobě.</p> <p>Viz rozdíl</p> <pre><code>echo "  3" | cut -d\  -f1
echo "  3" | awk '{print $1}'
</code></pre> <p>Na odstranění přebytečných mezer bez awk máme více možností. Výše zmíněný sed, nebo třeba grep -o</p> <pre><code>tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\   -f6 | sort | uniq -c | sort -nr | head -1 | grep -o '[0-9]*' | head -1
</code></pre> <p>Někdo vtipně neodstraňoval mezery, ale pomocí echo je tam naopak přidával :-D Takže v řešení se fantazii meze nekladou.</p> <p>Ještě jeden na Babicu: Když nemáme sed, awk ani grep, tak tam dáme tr: (POZOR, NEFUNGUJE!)</p> <pre><code>tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\  -f6 | sort | uniq -c | sort -nr | head -1 | tr -s ' ' | cut -d\  -f-2 | tr -d ' '
</code></pre> <ins> <p>čas:</p> <p><strong>Fray</strong></p> <pre><code><a class="__cf_email__" href="../../../cdn-cgi/l/email-protection.html" data-cfemail="57353625233e3a3625173125362e66">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>:~$ wc -l &lt;apache.log
 1000797
<a class="__cf_email__" href="../../../cdn-cgi/l/email-protection.html" data-cfemail="7e1c1f0c0a17131f0c3e180c1f074f">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>:~$ du -sh apache.log
 140M   apache.log
<a class="__cf_email__" href="../../../cdn-cgi/l/email-protection.html" data-cfemail="e7858695938e8a8695a78195869ed6">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>:~$ time awk '!/\[error\]/{a[$6]++}END{max=0;for(i in a){if(a[i]&gt;max)max=a[i]} print max}' apache.log
375375

real    1m34.088s
user    1m33.637s
sys     0m0.405s
<a class="__cf_email__" href="../../../cdn-cgi/l/email-protection.html" data-cfemail="dcbebdaea8b5b1bdae9cbaaebda5ed">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>:~$ time tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\  -f6 | sort | uniq -c | sort -nr | head -1 | ggrep -o '[0-9]*' | head -1
375375

real    1m15.272s
user    1m38.935s
sys     0m2.716s
</code></pre> <p><strong>Webdev</strong></p> <pre><code> <a class="__cf_email__" href="../../../cdn-cgi/l/email-protection.html" data-cfemail="c1a3a0b3b5a8aca0b381b6a4a3a5a4b7eca7a8b5ecf1f0">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script> ~ $ ll apache.log
 -rw-r----- 1 bartimar users 145M Nov 21 20:52 apache.log
 <a class="__cf_email__" href="../../../cdn-cgi/l/email-protection.html" data-cfemail="c0a2a1b2b4a9ada1b280b7a5a2a4a5b6eda6a9b4edf0f1">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script> ~ $  time awk '!/\[error\]/{a[$6]++}END{max=0;for(i in a){if(a[i]&gt;max)max=a[i]} print max}' apache.log
 375375

 real    0m4.094s
 user    0m1.820s
 sys     0m0.756s
 <a class="__cf_email__" href="../../../cdn-cgi/l/email-protection.html" data-cfemail="197b786b6d7074786b596e7c7b7d7c6f347f706d342928">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script> ~ $  time tr -s ' ' &lt;apache.log | grep -v '\[error\]' | cut -d\  -f6 | sort | uniq -c | sort -nr | head -1 | grep -o '[0-9]*' | head -1
 375375

 real    0m12.529s
 user    0m11.272s
 sys     0m7.916s
</code></pre> </ins> </div> </div> </div> </div> <div id="ContentRight"> </div> </div> <!-- template footer.html --> <div id="ground"> <div class="content-wrapper"> <div class="copyright"> <a href="http://creativecommons.org/licenses/by-sa/4.0/legalcode"> <img
                            class="license-logo"
                            src="../../../m/default/media/images/cc-by-sa.png%3Fv=1"
                            title="cc-by-sa"
                            alt="cc-by-sa"
                        /> </a>
                
                Copyright students of FIT CTU and others, 2014. Content on this site is licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International</a> license.

            </div> <div class="footer-links" > <a href="../../../about/index.html">about</a><span class="link-separator"> |</span> <a href="../../../faq/index.html">faq</a><span class="link-separator"> |</span> <a href="../../../help/index.html" title="help">help</a> <span class="link-separator"> |</span> <a href="../../../privacy/index.html">privacy policy</a><span class="link-separator"> |</span> <a href=
                        
                            "../../../feedback/index.html%3Fnext=%252Fanswers%252F2648%252Frevisions%252F.html">
                        
                        give feedback
                    </a> </div> <div class="powered-link"> <a href="http://askbot.com" target="_blank">
                Powered by Askbot version 0.7.49
            </a> </div> <div class="clean"></div> </div> </div> <!-- end template footer.html --> <div id="no-javascript"> <noscript class="noscript">
        Please note: AskFIT requires javascript to work properly, please enable javascript in your browser, <a href="https://www.google.com/support/bin/answer.py?answer=23852">here is how</a> </noscript> <script type="text/javascript">
        //IE fix to hide the red margin
        var noscript = document.getElementsByTagName('noscript')[0];
        noscript.style.padding = '0px';
        noscript.style.backgroundColor = 'transparent';
    </script> </div> <script type="text/javascript">
    askbot['urls']['mark_read_message'] = '/messages/markread/';
    askbot['urls']['get_tags_by_wildcard'] = '/get-tags-by-wildcard/';
    askbot['urls']['get_tag_list'] = '/get-tag-list/';
    askbot['urls']['follow_user'] = '/followit/follow/user/{{userId}}/';
    askbot['urls']['unfollow_user'] = '/followit/unfollow/user/{{userId}}/';
    askbot['urls']['user_signin'] = '/account/signin/';
    askbot['urls']['getEditor'] = '/get-editor/';
    askbot['urls']['apiGetQuestions'] = '/api/get_questions/';
    askbot['urls']['ask'] = '/questions/ask/';
	askbot['urls']['questions'] = '/questions/';
    askbot['settings']['groupsEnabled'] = false;
    askbot['settings']['static_url'] = '/m/';
    askbot['settings']['minSearchWordLength'] = 4;
    askbot['settings']['mathjaxEnabled'] = true;
    askbot['settings']['sharingSuffixText'] = '';
    askbot['data']['maxCommentLength'] = 800;
    askbot['settings']['editorType'] = 'markdown';
    askbot['settings']['commentsEditorType'] = 'plain-text';
    
        askbot['settings']['allowedUploadFileTypes'] = [
            "jpg", "jpeg", "gif", "bmp", "png", "tiff"
        ];
    
    askbot['data']['haveFlashNotifications'] = false;
    askbot['data']['activeTab'] = 'questions';
    
        askbot['data']['searchUrl'] = '';
    
</script> <script type="text/javascript" src="../../../m/CACHE/js/9c2bd604370b.js"></script> <script type="text/javascript">
    /*<![CDATA[*/
    $('.mceStatusbar').remove();//a hack to remove the tinyMCE status bar
    $(document).ready(function(){
        // focus input on the search bar endcomment
        var activeTab = askbot['data']['activeTab'];
        if (inArray(activeTab, ['users', 'questions', 'tags', 'badges'])) {
            var searchInput = $('#keywords');
        } else if (activeTab === 'ask') {
            var searchInput = $('#id_title');
        } else {
            var searchInput = undefined;
            animateHashes();
        }

        if (searchInput) {
            searchInput.focus();
            putCursorAtEnd(searchInput);
        }

        var haveFullTextSearchTab = inArray(activeTab, ['questions', 'badges', 'ask']);
        var haveUserProfilePage = $('body').hasClass('user-profile-page');
        if ((haveUserProfilePage || haveFullTextSearchTab) && searchInput.length) {
            var search = new FullTextSearch();
            askbot['controllers'] = askbot['controllers'] || {};
            askbot['controllers']['fullTextSearch'] = search;
            search.setSearchUrl(askbot['data']['searchUrl']);
            if (activeTab === 'ask') {
                search.setAskButtonEnabled(false);
            }
            search.decorate(searchInput);
        } else if (activeTab === 'tags') {
            var search = new TagSearch();
            search.decorate(searchInput);
        }

        if (askbot['data']['userIsAdminOrMod']) {
            $('body').addClass('admin');
        }
        if (askbot['settings']['groupsEnabled']) {
            askbot['urls']['add_group'] = "/add-group/";
            var group_dropdown = new GroupDropdown();
            $('.dropdown').append(group_dropdown.getElement());
        }
        var userRep = $('#userToolsNav .reputation');
        if (userRep.length) {
            var showPermsTrigger = new ShowPermsTrigger();
            showPermsTrigger.decorate(userRep);
        }
    });
    if (askbot['data']['haveFlashNotifications']) {
        $('#validate_email_alert').click(function(){notify.close(true)})
        notify.show();
    }
    $('abbr.timeago').timeago();
    /*]]>*/
</script> <script type='text/javascript' src="https://askfit.cz/m/mathjax/MathJax.js">
        MathJax.Hub.Config({
            extensions: ["tex2jax.js"],
            jax: ["input/TeX","output/HTML-CSS"],
            tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
        });
    </script> <script type='text/javascript' src='../../../m/default/media/js/editor.js%3Fv=1'></script> <script type='text/javascript' src='../../../m/default/media/js/post.js%3Fv=1'></script> <script type="text/javascript">
    //todo - take this out into .js file 
    $(document).ready(function(){
        $("#nav_questions").attr('className',"on");
        $('div.revision div[id^=rev-header-]').bind('click', function(){
            var revId = this.id.substr(11);
            toggleRev(revId);
        });
        lanai.highlightSyntax();
    });

    function toggleRev(id) {
        var arrow = $("#rev-arrow-" + id);
        var visible = arrow.attr("src").indexOf("hide") > -1;
        if (visible) {
            var image_path = '/m/default/media/images/expander-arrow-show.gif?v=1';
        } else {
            var image_path = '/m/default/media/images/expander-arrow-hide.gif?v=1';
        }
        image_path = image_path + "?v=1";
        arrow.attr("src", image_path);
        $("#rev-body-" + id).slideToggle("fast");
    }
</script> <script type="text/javascript">
            for (url_name in askbot['urls']){
                askbot['urls'][url_name] = cleanUrl(askbot['urls'][url_name]);
            }
        </script> </body> </html>