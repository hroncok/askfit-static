
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml"> <head> <title>Revision history - Ask FIT</title> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> <meta http-equiv="X-UA-Compatible" content="IE=EDGE" /> <meta name="description" content="Otázky a odpovědi studentů FIT ČVUT" /> <meta name="keywords" content=",Ask,FIT ČVUT" /> <meta name="referrer" content="always" /> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /> <link rel="shortcut icon" href="../../../upfiles/fit.ico" /> <link
            rel="alternate"
            type="application/rss+xml"
            title="RSS feed from AskFIT"
            href="https://askfit.cz/feeds/rss/"
        /> <link rel="stylesheet" href="../../../m/CACHE/css/13f37855be5f.css" type="text/css" /> <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:700&amp;subset=latin-ext' rel='stylesheet' type='text/css'> <link href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:700&amp;subset=cyrillic-ext' rel='stylesheet' type='text/css'> <script type="text/javascript" src="../../../m/default/media/js/modernizr.custom.js%3Fv=1"></script> <script type="text/javascript">
    var askbot = {};
    askbot['data'] = {};
    askbot['data']['userIsAuthenticated'] = false;
    askbot['data']['languageCode'] = 'en';
    
        askbot['data']['userReputation'] = 0;
        askbot['data']['userIsReadOnly'] = false;//in principle we allow anon users to start posting
    
    askbot['urls'] = {};
    askbot['settings'] = {};
    askbot['messages'] = {};
</script> <script type="text/javascript" src="../../../jsi18n/index.html"></script> </head> <body class="two-col revisions-page anon lang-en"> <div class="notify" style="display:none"> <a id="closeNotify" onclick="notify.close(true)"></a> </div> <!-- template header.html --> <div 
    id="header"
    class="without-logo"
> <div class="content-wrapper"> <div id="userToolsNav"> <a href="../../../account/signin/index.html%3Fnext=%252F.html">Hi there! Please sign in</a> <a class="help" href="../../../help/index.html" title="help">help</a> </div> <div id="metaNav"> <a 
  id="navTags"
  href="../../../tags/index.html"
  
>tags</a> <a 
  id="navUsers"
  href="../../../users/index.html"
  
>users</a> <a 
  id="navBadges"
  href="../../../badges/index.html"
  
>badges</a> </div> <div class="clean"></div> </div> </div> <!-- end template header.html --> <!-- template secondary_header.html --> <div id="secondaryHeader"> <div class="content-wrapper"> <form
            
                action="../../../question/2296/bi-zwu-semestralni-prace-media-queries.1.html" id="searchForm"
            
            class="scopes-True-True-False"
            method="get"> <div> <a id="homeButton" href="/"></a> <div id="scopeNav"> <a class="scope-selector "
            href="../../../questions/scope:all/sort:activity-desc/page:1/index.html"
            title="see all questions">ALL</a> <a class="scope-selector "
            href="../../../questions/scope:unanswered/sort:answers-asc/page:1/index.html"
            title="see unanswered questions">UNANSWERED</a> </div> <a
        id="askButton"
        class="button"
        href="../../../questions/ask/index.html"
        >Ask Your Question</a> <div class="clearfix"></div> </div> <div 
    id="searchBar"
    class=""
><input 
        class="searchInput" 
        type="text" 
        autocomplete="off"
        value="" 
        name="query" 
        id="keywords"
    /><input type="submit" value="" name="search" class="searchBtn" /><input type="button"
        value="X"
        name="reset_query"
        class="cancelSearchBtn"
        
            style="display: none;"
        
    /></div> </form> </div> </div> <div class="content-wrapper"> <div id="ContentLeft"> <h1 class="section-title">
    Revision history [<a href="../../../question/1641/3nf-bcnf-kluce/index.html%3Fanswer=1642.html#post-id-1642">back</a>]
</h1> <div id="revisions"> <div class="revision"> <div 
        id="rev-header-1"
        class="header author"
    > <div class="header-controls"> <table width="100%"> <tr> <td width="20" style="vertical-align:middle"> <img 
                        id="rev-arrow-1" 
                        src="../../../m/default/media/images/expander-arrow-hide.gif%3Fv=1"
                        alt="click to hide/show revision"
                        /> </td> <td width="30px" style="vertical-align:middle"> <span 
                        class="revision-number" 
                        title="revision 1">1</span></td> <td width="200px" style="vertical-align:middle"> <div class="summary"> <span>initial version</span> </div> </td> <td align="right"> <div class="revision-mark" > <div class='post-update-info'> <p style="line-height:12px;">
            
            
                posted
            
            
                <strong><abbr class="timeago" title="2014-12-27 15:20:55 +0100">
        2014-12-27 15:20:55 +0100
    </abbr></strong> </p> <div class="user-card"> <a class="avatar-box"
    href="../../../users/59/josef-kokes/index.html"
><img class="gravatar" 
    width="32" height="32"
    src="https://www.gravatar.com/avatar/eb947d5f190842171f53ed5b3411af4c?s=32&amp;d=identicon&amp;r=PG"
    title="Josef Kokeš" 
    alt="Josef Kokeš gravatar image" 
/></a> <div class="user-info"> <a href="../../../users/59/josef-kokes/index.html">Josef Kokeš</a> <br/> </div> </div> </div> </div> </td> </tr> </table> </div> </div> <div id="rev-body-1" class="answerbody"> <p>Ad a): Potřebujeme takovou minimální množinu atributů, že po aplikaci funkčních závislostí na ni získáme množinu všech atributů. Řeší se to tak, že si stanovíte, že v klíči chcete mít atribut <em>x</em>, zjistíte, které další atributy z něj dokážete dostat pomocí funkčních závislostí, a vyjde vám množina atributů, ke které se nedá dostat. Tak si jeden z nich vyberete a přidáte ho do klíče. A tohle pořád opakujete, dokud nepokryjete celý klíč. Takže např. ve vašem příkladu si zvolíte <em>a</em> a zjistíte, že funkčními závislostmi se nikam dál nedostanete; ale zároveň si všimnete, že kdybyste měl i <em>b</em>, tak už vám aspoň jedna funkční závislost bude fungovat, takže začnete s klíčem <em>a, b</em>. Podle druhého pravidla se pak dostanete i k <em>d</em>, a když už máte <em>d</em>, tak třetí pravidlo vám udělá i <em>c</em> a máte pokryté všechny atributy. Takže <em>a, b</em> by byl jedním z klíčů. Teď totéž vyzkoušíte i pro všechny ostatní atributy a dostanete množinu potenciálních klíčů.</p> <p>Případně se dá postupovat i obráceně - začnete s tím, že klíčem je množina všech atributů, a potom jdete "proti směru" funkčních závislostí a vyřazujete ty sloupečky, které "nepotřebujete". Takže z <em>a, b, c, d</em> můžete podle druhého pravidla vyřadit <em>d</em> a podle prvního <em>a</em> a zbyde vám klíč <em>b, c</em>.</p> <p>Ty druhé dva dotazy neberte se stoprocentní zárukou, v praxi to moc nepoužívám (z výkonnostních a jiných důvodů je často vhodné vyšší normální formy nevytvářet) a teď jenom vzpomínám, jak přesně to v teorii funguje.</p> <p>ad b): Aby byla relace ve třetí normální formě, musí být v 1NF (atomické atributy), 2NF (1NF + ne-klíčové atributy jsou závislé na celém klíči) a 3NF (2NF + ne-klíčové atributy jsou závislé pouze na klíči).</p> <ul> <li><p>Atomické atributy - z vašeho zadání se to moc nepozná, ale v praxi to obvykle pokládáme za splněné. Nebylo by to splněné, kdyby některý atribut mohl obsahovat třeba nějaký seznam položek. Teoreticky vzato je otázka, jestli atribut typu DATE nebo DATETIME je nebo není atomický, protože sice ho obvykle chápeme jako jeden celek, ale můžeme přistupovat i k jeho komponentám.</p></li> <li><p>Ne-klíčové atributy závislé na celém klíči - Podíváte se na kandidátní klíče (všechny) a na funkční závislosti a hledáte, jestli se dá některý atribut vyjádřit pomocí jenom části klíče. Kdybyste třeba došel k tomu, že klíčem nutně musí být <em>a, b, c</em>, tak snadno uvidíte, že atribut <em>d</em> je závislý jen na <em>a, b</em> a ne na <em>c</em>, takže relace s takovým klíčem by určitě nebyla v 2NF.</p></li> <li><p>Ne-klíčové atributy závislé pouze na klíči - Nesmí vám nastat situace, kdy by se k některému atributu dalo dostat třeba kombinací (části) klíče a ne-klíčového atributu. Ve vašem případě, máte klíč např. <em>b, c</em> a je zřejmé, že k atributu <em>d</em> se jenom pomocí nich dostat nedokážete, potřebujete ještě <em>a</em>, abyste mohl použít druhou funkční závislost. Takže relace zjevně není v 3NF. (Ovšem pouze za předpokladu, že <em>d</em> je ne-klíčový atribut, tzn. není součástí žádného kandidátního klíče, to jsem nezjišťoval.)</p></li> </ul> <p>ad c): Aby relace byla v BCNF, musí být v 3NF a navíc netriviální závislosti musí být závislostmi na nadklíči. Nebo jinak, pro všechny funkční závislosti X -&gt; Y musí platit, že buď jde o triviální závislost (např. X -&gt; X nebo (x, y) -&gt; (y)), nebo X je kandidátní klíč. Takhle spatra bych řekl, že třetí funkční závislost tohle poruší, protože není triviální a nejspíš nedokážu udělat kandidátní klíč jenom ze samotného <em>d</em>. Asi to tedy bude chtít vyexpedovat <em>c</em> do samostatné relace. Ale tady už fakt dost vařím z vody.</p> </div> </div> <div class="revision"> <div 
        id="rev-header-2"
        class="header author"
    > <div class="header-controls"> <table width="100%"> <tr> <td width="20" style="vertical-align:middle"> <img 
                        id="rev-arrow-2" 
                        src="../../../m/default/media/images/expander-arrow-hide.gif%3Fv=1"
                        alt="click to hide/show revision"
                        /> </td> <td width="30px" style="vertical-align:middle"> <span 
                        class="revision-number" 
                        title="revision 2">2</span></td> <td width="200px" style="vertical-align:middle"> <div class="summary"> <span>No.2 Revision</span> </div> </td> <td align="right"> <div class="revision-mark" > <div class='post-update-info'> <p style="line-height:12px;"> <a 
        
            href="../../2318/revisions/index.html"
        
            >updated <strong><abbr class="timeago" title="2014-12-27 15:24:05 +0100">
        2014-12-27 15:24:05 +0100
    </abbr></strong></a> </p> <div class="user-card"> <a class="avatar-box"
    href="../../../users/59/josef-kokes/index.html"
><img class="gravatar" 
    width="32" height="32"
    src="https://www.gravatar.com/avatar/eb947d5f190842171f53ed5b3411af4c?s=32&amp;d=identicon&amp;r=PG"
    title="Josef Kokeš" 
    alt="Josef Kokeš gravatar image" 
/></a> <div class="user-info"> <a href="../../../users/59/josef-kokes/index.html">Josef Kokeš</a> <br/> </div> </div> </div> </div> </td> </tr> </table> </div> </div> <div id="rev-body-2" class="answerbody"> <p>Ad a): Potřebujeme takovou minimální množinu atributů, že po aplikaci funkčních závislostí na ni získáme množinu všech atributů. Řeší se to tak, že si stanovíte, že v klíči chcete mít atribut <em>x</em>, zjistíte, které další atributy z něj dokážete dostat pomocí funkčních závislostí, a vyjde vám množina atributů, ke které se nedá dostat. Tak si jeden z nich vyberete a přidáte ho do klíče. A tohle pořád opakujete, dokud nepokryjete celý klíč. Takže např. ve vašem příkladu si zvolíte <em>a</em> a zjistíte, že funkčními závislostmi se nikam dál nedostanete; ale zároveň si všimnete, že kdybyste měl i <em>b</em>, tak už vám aspoň jedna funkční závislost bude fungovat, takže začnete s klíčem <em>a, b</em>. Podle druhého pravidla se pak dostanete i k <em>d</em>, a když už máte <em>d</em>, tak třetí pravidlo vám udělá i <em>c</em> a máte pokryté všechny atributy. Takže <em>a, b</em> by byl jedním z klíčů. Teď totéž vyzkoušíte i pro všechny ostatní atributy a dostanete množinu potenciálních klíčů.</p> <p>Případně se dá postupovat i obráceně - začnete s tím, že klíčem je množina všech atributů, a potom jdete "proti směru" funkčních závislostí a vyřazujete ty sloupečky, které "nepotřebujete". Takže z <em>a, b, c, d</em> můžete podle druhého pravidla vyřadit <em>d</em> a podle prvního <em>a</em> a zbyde vám klíč <em>b, c</em>.</p> <p>Ty druhé dva dotazy neberte se stoprocentní zárukou, v praxi to moc nepoužívám (z výkonnostních a jiných důvodů je často vhodné vyšší normální formy nevytvářet) a <del>teď </del><ins>když už, tak metodou "kouknu a vidím". Teď </ins>jenom vzpomínám, jak přesně to v teorii funguje.</p> <p>ad b): Aby byla relace ve třetí normální formě, musí být v 1NF (atomické atributy), 2NF (1NF + ne-klíčové atributy jsou závislé na celém klíči) a 3NF (2NF + ne-klíčové atributy jsou závislé pouze na klíči).</p> <ul> <li><p>Atomické atributy - z vašeho zadání se to moc nepozná, ale v praxi to obvykle pokládáme za splněné. Nebylo by to splněné, kdyby některý atribut mohl obsahovat třeba nějaký seznam položek. Teoreticky vzato je otázka, jestli atribut typu DATE nebo DATETIME je nebo není atomický, protože sice ho obvykle chápeme jako jeden celek, ale můžeme přistupovat i k jeho komponentám.</p></li> <li><p>Ne-klíčové atributy závislé na celém klíči - Podíváte se na kandidátní klíče (všechny) a na funkční závislosti a hledáte, jestli se dá některý atribut vyjádřit pomocí jenom části klíče. Kdybyste třeba došel k tomu, že klíčem nutně musí být <em>a, b, c</em>, tak snadno uvidíte, že atribut <em>d</em> je závislý jen na <em>a, b</em> a ne na <em>c</em>, takže relace s takovým klíčem by určitě nebyla v 2NF.</p></li> <li><p>Ne-klíčové atributy závislé pouze na klíči - Nesmí vám nastat situace, kdy by se k některému atributu dalo dostat třeba kombinací (části) klíče a ne-klíčového atributu. Ve vašem případě, máte klíč např. <em>b, c</em> a je zřejmé, že k atributu <em>d</em> se jenom pomocí nich dostat nedokážete, potřebujete ještě <em>a</em>, abyste mohl použít druhou funkční závislost. Takže relace zjevně není v 3NF. (Ovšem pouze za předpokladu, že <em>d</em> je ne-klíčový atribut, tzn. není součástí žádného kandidátního klíče, to jsem nezjišťoval.)</p></li> </ul> <p>ad c): Aby relace byla v BCNF, musí být v 3NF a navíc netriviální závislosti musí být závislostmi na nadklíči. Nebo jinak, pro všechny funkční závislosti X -&gt; Y musí platit, že buď jde o triviální závislost (např. X -&gt; X nebo (x, y) -&gt; (y)), nebo X je kandidátní klíč. Takhle spatra bych řekl, že třetí funkční závislost tohle poruší, protože není triviální a nejspíš nedokážu udělat kandidátní klíč jenom ze samotného <em>d</em>. Asi to tedy bude chtít vyexpedovat <em>c</em> do samostatné relace. Ale tady už fakt dost vařím z vody.</p> </div> </div> </div> </div> <div id="ContentRight"> </div> </div> <!-- template footer.html --> <div id="ground"> <div class="content-wrapper"> <div class="copyright"> <a href="http://creativecommons.org/licenses/by-sa/4.0/legalcode"> <img
                            class="license-logo"
                            src="../../../m/default/media/images/cc-by-sa.png%3Fv=1"
                            title="cc-by-sa"
                            alt="cc-by-sa"
                        /> </a>
                
                Copyright students of FIT CTU and others, 2014. Content on this site is licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/legalcode">Creative Commons Attribution-ShareAlike 4.0 International</a> license.

            </div> <div class="footer-links" > <a href="../../../about/index.html">about</a><span class="link-separator"> |</span> <a href="../../../faq/index.html">faq</a><span class="link-separator"> |</span> <a href="../../../help/index.html" title="help">help</a> <span class="link-separator"> |</span> <a href="../../../privacy/index.html">privacy policy</a><span class="link-separator"> |</span> <a href=
                        
                            "../../../feedback/index.html%3Fnext=%252Fanswers%252F1642%252Frevisions%252F.html">
                        
                        give feedback
                    </a> </div> <div class="powered-link"> <a href="http://askbot.com" target="_blank">
                Powered by Askbot version 0.7.49
            </a> </div> <div class="clean"></div> </div> </div> <!-- end template footer.html --> <div id="no-javascript"> <noscript class="noscript">
        Please note: AskFIT requires javascript to work properly, please enable javascript in your browser, <a href="https://www.google.com/support/bin/answer.py?answer=23852">here is how</a> </noscript> <script type="text/javascript">
        //IE fix to hide the red margin
        var noscript = document.getElementsByTagName('noscript')[0];
        noscript.style.padding = '0px';
        noscript.style.backgroundColor = 'transparent';
    </script> </div> <script type="text/javascript">
    askbot['urls']['mark_read_message'] = '/messages/markread/';
    askbot['urls']['get_tags_by_wildcard'] = '/get-tags-by-wildcard/';
    askbot['urls']['get_tag_list'] = '/get-tag-list/';
    askbot['urls']['follow_user'] = '/followit/follow/user/{{userId}}/';
    askbot['urls']['unfollow_user'] = '/followit/unfollow/user/{{userId}}/';
    askbot['urls']['user_signin'] = '/account/signin/';
    askbot['urls']['getEditor'] = '/get-editor/';
    askbot['urls']['apiGetQuestions'] = '/api/get_questions/';
    askbot['urls']['ask'] = '/questions/ask/';
	askbot['urls']['questions'] = '/questions/';
    askbot['settings']['groupsEnabled'] = false;
    askbot['settings']['static_url'] = '/m/';
    askbot['settings']['minSearchWordLength'] = 4;
    askbot['settings']['mathjaxEnabled'] = true;
    askbot['settings']['sharingSuffixText'] = '';
    askbot['data']['maxCommentLength'] = 800;
    askbot['settings']['editorType'] = 'markdown';
    askbot['settings']['commentsEditorType'] = 'plain-text';
    
        askbot['settings']['allowedUploadFileTypes'] = [
            "jpg", "jpeg", "gif", "bmp", "png", "tiff"
        ];
    
    askbot['data']['haveFlashNotifications'] = false;
    askbot['data']['activeTab'] = 'questions';
    
        askbot['data']['searchUrl'] = '';
    
</script> <script type="text/javascript" src="../../../m/CACHE/js/9c2bd604370b.js"></script> <script type="text/javascript">
    /*<![CDATA[*/
    $('.mceStatusbar').remove();//a hack to remove the tinyMCE status bar
    $(document).ready(function(){
        // focus input on the search bar endcomment
        var activeTab = askbot['data']['activeTab'];
        if (inArray(activeTab, ['users', 'questions', 'tags', 'badges'])) {
            var searchInput = $('#keywords');
        } else if (activeTab === 'ask') {
            var searchInput = $('#id_title');
        } else {
            var searchInput = undefined;
            animateHashes();
        }

        if (searchInput) {
            searchInput.focus();
            putCursorAtEnd(searchInput);
        }

        var haveFullTextSearchTab = inArray(activeTab, ['questions', 'badges', 'ask']);
        var haveUserProfilePage = $('body').hasClass('user-profile-page');
        if ((haveUserProfilePage || haveFullTextSearchTab) && searchInput.length) {
            var search = new FullTextSearch();
            askbot['controllers'] = askbot['controllers'] || {};
            askbot['controllers']['fullTextSearch'] = search;
            search.setSearchUrl(askbot['data']['searchUrl']);
            if (activeTab === 'ask') {
                search.setAskButtonEnabled(false);
            }
            search.decorate(searchInput);
        } else if (activeTab === 'tags') {
            var search = new TagSearch();
            search.decorate(searchInput);
        }

        if (askbot['data']['userIsAdminOrMod']) {
            $('body').addClass('admin');
        }
        if (askbot['settings']['groupsEnabled']) {
            askbot['urls']['add_group'] = "/add-group/";
            var group_dropdown = new GroupDropdown();
            $('.dropdown').append(group_dropdown.getElement());
        }
        var userRep = $('#userToolsNav .reputation');
        if (userRep.length) {
            var showPermsTrigger = new ShowPermsTrigger();
            showPermsTrigger.decorate(userRep);
        }
    });
    if (askbot['data']['haveFlashNotifications']) {
        $('#validate_email_alert').click(function(){notify.close(true)})
        notify.show();
    }
    $('abbr.timeago').timeago();
    /*]]>*/
</script> <script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js">
        MathJax.Hub.Config({
            extensions: ["tex2jax.js"],
            jax: ["input/TeX","output/HTML-CSS"],
            tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
        });
    </script> <script type='text/javascript' src='../../../m/default/media/js/editor.js%3Fv=1'></script> <script type='text/javascript' src='../../../m/default/media/js/post.js%3Fv=1'></script> <script type="text/javascript">
    //todo - take this out into .js file 
    $(document).ready(function(){
        $("#nav_questions").attr('className',"on");
        $('div.revision div[id^=rev-header-]').bind('click', function(){
            var revId = this.id.substr(11);
            toggleRev(revId);
        });
        lanai.highlightSyntax();
    });

    function toggleRev(id) {
        var arrow = $("#rev-arrow-" + id);
        var visible = arrow.attr("src").indexOf("hide") > -1;
        if (visible) {
            var image_path = '/m/default/media/images/expander-arrow-show.gif?v=1';
        } else {
            var image_path = '/m/default/media/images/expander-arrow-hide.gif?v=1';
        }
        image_path = image_path + "?v=1";
        arrow.attr("src", image_path);
        $("#rev-body-" + id).slideToggle("fast");
    }
</script> <script type="text/javascript">
            for (url_name in askbot['urls']){
                askbot['urls'][url_name] = cleanUrl(askbot['urls'][url_name]);
            }
        </script> </body> </html>